{
  "metadata": {
    "id": "std.schedule.frequency",
    "name": "Time Frequency",
    "description": "Scheduling frequency descriptor supporting recurring patterns.",
    "fieldType": "composite",
    "dataType": "object",
    "version": "1.0.0",
    "owner": "core.workflow",
    "capabilities": ["viewable", "schedulable"],
    "sensitivity": "internal",
    "constraints": {
      "required": ["pattern"]
    },
    "localization": {
      "translatable": false
    },
    "example": {
      "pattern": "weekly",
      "interval": 1,
      "days_of_week": ["tuesday"],
      "time_of_day": "09:30",
      "timezone": "Europe/Berlin"
    },
    "provenance": {}
  },
  "$id": "https://eirenhall.com/schema/fields/time_frequency.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Time Frequency",
  "type": "object",
  "additionalProperties": false,
  "required": ["pattern"],
  "properties": {
    "pattern": {
      "type": "string",
      "enum": ["once", "daily", "weekly", "monthly", "yearly", "custom"],
      "description": "High-level frequency category."
    },
    "interval": {
      "type": "integer",
      "minimum": 1,
      "default": 1,
      "description": "Number of pattern units between occurrences."
    },
    "days_of_week": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"]
      },
      "uniqueItems": true,
      "minItems": 1,
      "description": "Applicable weekdays when the pattern is weekly."
    },
    "day_of_month": {
      "type": "integer",
      "minimum": 1,
      "maximum": 31,
      "description": "Day of month used by monthly patterns."
    },
    "time_of_day": {
      "type": "string",
      "pattern": "^([01][0-9]|2[0-3]):[0-5][0-9](?::[0-5][0-9])?$",
      "description": "Time of day in 24-hour HH:MM or HH:MM:SS format."
    },
    "timezone": {
      "type": "string",
      "pattern": "^[A-Za-z_]+(?:/[A-Za-z_]+)+$",
      "description": "IANA timezone identifier applied to time_of_day."
    },
    "notes": {
      "type": "string",
      "maxLength": 256,
      "description": "Optional description for custom scheduling rules."
    }
  }
}
